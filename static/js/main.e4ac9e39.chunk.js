(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,n){},178:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(83),s=n.n(o),r=(n(176),n(8)),h=n(9),l=n(16),c=n(15),d=n(17),u=n(1),m=[{name:"Block",data:[0,0,1,0,0,1,1,1]},{name:"Beehive",data:[1,0,2,0,0,1,3,1,1,2,2,2]},{name:"Loaf",data:[1,0,2,0,0,1,3,1,1,2,3,2,2,3]},{name:"Boat",data:[0,0,1,0,0,1,2,1,1,2]},{name:"Tub",data:[1,0,0,1,2,1,1,2]},{name:"Blinker",data:[0,1,1,1,2,1]},{name:"Toad",data:[1,1,2,1,3,1,0,2,1,2,2,2]},{name:"Beacon",data:[0,0,1,0,0,1,3,2,2,3,3,3]},{name:"Pulsar",data:[2,0,3,0,4,0,8,0,9,0,10,0,0,2,5,2,7,2,12,2,0,3,5,3,7,3,12,3,0,4,5,4,7,4,12,4,2,5,3,5,4,5,8,5,9,5,10,5,2,7,3,7,4,7,8,7,9,7,10,7,0,8,5,8,7,8,12,8,0,9,5,9,7,9,12,9,0,10,5,10,7,10,12,10,2,12,3,12,4,12,8,12,9,12,10,12]},{name:"Pentadecathon",data:[3,2,4,2,5,2,2,3,6,3,2,4,6,4,3,5,4,5,5,5,3,10,4,10,5,10,2,11,6,11,2,12,6,12,3,13,4,13,5,13]},{name:"Glider",data:[1,1,2,2,3,2,1,3,2,3]},{name:"LWSS",data:[2,0,3,0,1,1,2,1,3,1,4,1,1,2,2,2,4,2,5,2,3,3,4,3]},{name:"R-pentomino",data:[1,0,2,0,0,1,1,1,1,2]},{name:"Diehard",data:[6,0,0,1,1,1,1,2,5,2,6,2,7,2]},{name:"Acorn",data:[1,0,3,1,0,2,1,2,4,2,5,2,6,2]},{name:"Gosper's Glider Gun",data:[25,0,23,1,25,1,13,2,14,2,21,2,22,2,35,2,36,2,12,3,16,3,21,3,22,3,35,3,36,3,1,4,2,4,11,4,17,4,21,4,22,4,1,5,2,5,11,5,15,5,17,5,18,5,23,5,25,5,11,6,17,6,25,6,12,7,16,7,13,8,14,8]},{name:"PatternX",data:[6,0,4,1,6,1,7,1,4,2,6,2,4,3,2,4,0,5,2,5]},{name:"PatternY",data:[0,0,1,0,2,0,4,0,0,1,3,2,4,2,1,3,2,3,4,3,0,4,2,4,4,4]},{name:"PatternZ",data:[0,0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,9,0,10,0,11,0,12,0,13,0,17,0,18,0,19,0,26,0,27,0,28,0,29,0,30,0,31,0,32,0,34,0,35,0,36,0,37,0,38,0]}],g=function(){function e(){Object(r.a)(this,e)}return Object(h.a)(e,null,[{key:"getNames",value:function(){for(var e=[],t=0;t<m.length;t++)e.push(m[t].name);return e}},{key:"draw",value:function(e,t,n,a,i,o){for(var s=m.find(function(e){return e.name===o}).data,r=s.length,h=0;h<r;h+=2)e[(a+s[h])%t+(i+s[h+1])%n*t]=1}}]),e}(),p=function(){function e(t,n,a,i){Object(r.a)(this,e),this.names=g.getNames(),this.resize(t,n),this.initialize(a,i)}return Object(h.a)(e,[{key:"initialize",value:function(e,t){this.generation=0,"empty"===e?this.createEmptyGrid():"random"===e?this.createRandomGrid(t):"test"===e&&this.createTestGrid(t)}},{key:"reset",value:function(){this.lastFrame=Date.now(),this.grid=null,this.generation=0}},{key:"resize",value:function(e,t){this.reset(),this.width=e,this.height=t}},{key:"doNothing",value:function(){this.lastFrame=Date.now()}},{key:"drawCell",value:function(e,t,n){this.grid||this.createEmptyGrid();for(var a=this.grid,i=a.length,o=new Array(i).fill(0),s=0;s<i;s++)o[s]=a[s];var r=e+t*this.width;o[r]=n||0,this.grid=o}},{key:"drawItem",value:function(e,t,n){this.grid||this.createEmptyGrid();for(var a=this.grid,i=a.length,o=new Array(i).fill(0),s=0;s<i;s++)o[s]=a[s];g.draw(o,this.width,this.height,e,t,n),this.grid=o}},{key:"updateGeneration",value:function(e){if(this.thisFrame=Date.now(),this.thisFrame-this.lastFrame<410-4*e)return!1;this.lastFrame=this.thisFrame,this.grid||this.createEmptyGrid();for(var t,n,a,i,o,s,r,h,l=this.grid,c=l.length,d=this.width,u=this.height,m=new Array(c).fill(0),g=0;g<u;g++){i=g*d,0===g?(a=(u-1)*d,o=(g+1)*d):g===u-1?(a=(g-1)*d,o=0):(a=(g-1)*d,o=(g+1)*d);for(var p=0;p<d;p++)0===p?(t=d-1,n=p+1):p===d-1?(t=p-1,n=0):(t=p-1,n=p+1),s=0,0!==l[t+a]&&s++,0!==l[p+a]&&s++,0!==l[n+a]&&s++,0!==l[t+i]&&s++,0!==l[n+i]&&s++,0!==l[t+o]&&s++,0!==l[p+o]&&s++,0!==l[n+o]&&s++,(h=l[r=p+i])?2!==s&&3!==s||(m[r]=h+1):3===s&&(m[r]=h+1)}return this.grid=m,this.generation++,!0}},{key:"createEmptyGrid",value:function(){this.grid=new Array(this.width*this.height).fill(0)}},{key:"createRandomGrid",value:function(e){this.createEmptyGrid();for(var t=this.grid,n=t.length,a=0;a<n;a++)Math.random()<e&&(t[a]=1)}},{key:"createTestGrid",value:function(e){this.createEmptyGrid();for(var t=this.names.length,n=0;n<e;n++){var a=Math.floor(Math.random()*this.width),i=Math.floor(Math.random()*this.height),o=Math.floor(Math.random()*t);g.draw(this.grid,this.width,this.height,a,i,this.names[o])}}}]),e}(),f=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("input",{className:"slider",type:"range",min:this.props.min,max:this.props.max,onChange:this.props.onChange,value:this.props.value})}}]),t}(i.a.Component),v=function(){function e(t,n,a){Object(r.a)(this,e),this.r=t,this.g=n,this.b=a}return Object(h.a)(e,[{key:"toString",value:function(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}},{key:"fromString",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);t&&(this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16))}}]),e}(),b=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("input",{className:"color-picker",type:"color",value:this.props.value,onChange:this.props.onChange})}}]),t}(i.a.Component),w=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).border=5,n.onMouseDown=n.onMouseDown.bind(Object(u.a)(Object(u.a)(n))),n.onMouseMove=n.onMouseMove.bind(Object(u.a)(Object(u.a)(n))),n.onMouseUp=n.onMouseUp.bind(Object(u.a)(Object(u.a)(n))),n.onContextMenu=n.onContextMenu.bind(Object(u.a)(Object(u.a)(n))),n}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.canvas.getBoundingClientRect();this.dx=e.left+this.border,this.dy=e.top+this.border,this.drawGrid()}},{key:"componentDidUpdate",value:function(){var e=this.canvas.getBoundingClientRect();this.dx=e.left+this.border,this.dy=e.top+this.border,this.drawGrid()}},{key:"onMouseDown",value:function(e){0===e.button&&(this.x=Math.floor((e.clientX-this.dx)/this.props.cellSize),this.y=Math.floor((e.clientY-this.dy)/this.props.cellSize),this.drawing=!0,this.drawCell(this.x,this.y))}},{key:"onMouseMove",value:function(e){this.x=Math.floor((e.clientX-this.dx)/this.props.cellSize),this.y=Math.floor((e.clientY-this.dy)/this.props.cellSize),this.drawing&&this.drawCell(this.x,this.y)}},{key:"onMouseUp",value:function(e){0===e.button&&(this.drawing=!1)}},{key:"onContextMenu",value:function(e){e.preventDefault();var t=Math.floor((e.clientX-this.dx)/this.props.cellSize),n=Math.floor((e.clientY-this.dy)/this.props.cellSize);this.props.handleContextMenu(e.clientX,e.clientY,t,n)}},{key:"drawCell",value:function(e,t){e===this.px&&t===this.py||(this.props.drawCell(e,t),this.px=e,this.py=t)}},{key:"drawGrid",value:function(){if(this.props.grid!==this.grid||this.props.width!==this.width||this.props.height!==this.height||this.props.steps!==this.steps||this.props.showGrid!==this.showGrid){this.grid=this.props.grid,this.width=this.props.width,this.height=this.props.height,this.steps=this.props.steps,this.showGrid=this.props.showGrid;var e=this.canvas.getContext("2d");e.lineWidth=1;var t,n=this.props.width,a=this.props.height,i=this.props.cellSize;if(e.clearRect(0,0,n*i,a*i),this.props.showGrid&&i>2){t=i-1,e.strokeStyle="white",e.fillStyle="white";for(var o=0;o<a;o++)e.fillRect(0,o*i+t,n*i,1);for(var s=0;s<n;s++)e.fillRect(s*i+t,0,1,a*i)}else t=i;if(this.grid){for(var r,h,l,c=this.props.grid,d=c.length,u=this.props.color1.toString(),m=this.props.color2.toString(),g=this.props.color1.r,p=this.props.color1.g,f=this.props.color1.b,b=this.props.color2.r,w=this.props.color2.g,C=this.props.color2.b,y=[],k=this.props.steps,S=1;S<k;S++)r=this.interpolate(g,b,k,S),h=this.interpolate(p,w,k,S),l=this.interpolate(f,C,k,S),y.push(new v(r,h,l).toString());for(var O,E=k+1,x=0;x<d;x++){var M=c[x];if(0!==M){var j=x%n,N=Math.floor(x/n);M<=2?(e.strokeStyle=u,e.fillStyle=u):M>E?(e.strokeStyle=m,e.fillStyle=m):(O=y[M-3],e.strokeStyle=O,e.fillStyle=O),e.fillRect(j*i,N*i,t,t)}}}}}},{key:"interpolate",value:function(e,t,n,a){return Math.floor(e+(t-e)/n*a)}},{key:"render",value:function(){var e=this;return i.a.createElement("canvas",{style:{border:this.border+"px solid white"},ref:function(t){return e.canvas=t},onContextMenu:this.onContextMenu,width:this.props.width*this.props.cellSize,height:this.props.height*this.props.cellSize,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp})}}]),t}(i.a.Component),C=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).runFrame=n.runFrame.bind(Object(u.a)(Object(u.a)(n))),n.handleDrawCell=n.handleDrawCell.bind(Object(u.a)(Object(u.a)(n))),n.handleContextMenu=n.handleContextMenu.bind(Object(u.a)(Object(u.a)(n))),n.onClickRunPause=n.onClickRunPause.bind(Object(u.a)(Object(u.a)(n))),n.onClickShowHideGrid=n.onClickShowHideGrid.bind(Object(u.a)(Object(u.a)(n))),n.onClickClear=n.onClickClear.bind(Object(u.a)(Object(u.a)(n))),n.onChangeSize=n.onChangeSize.bind(Object(u.a)(Object(u.a)(n))),n.onChangeSpeed=n.onChangeSpeed.bind(Object(u.a)(Object(u.a)(n))),n.onChangeColor=n.onChangeColor.bind(Object(u.a)(Object(u.a)(n))),n.onChangeSteps=n.onChangeSteps.bind(Object(u.a)(Object(u.a)(n))),n.onChangeRandomPercent=n.onChangeRandomPercent.bind(Object(u.a)(Object(u.a)(n))),n.onClickRandom=n.onClickRandom.bind(Object(u.a)(Object(u.a)(n))),n.onChangeTestItems=n.onChangeTestItems.bind(Object(u.a)(Object(u.a)(n))),n.onClickTest=n.onClickTest.bind(Object(u.a)(Object(u.a)(n))),n.onContextMenuItemClick=n.onContextMenuItemClick.bind(Object(u.a)(Object(u.a)(n))),n.onClick=n.onClick.bind(Object(u.a)(Object(u.a)(n))),n.onKeyDown=n.onKeyDown.bind(Object(u.a)(Object(u.a)(n))),n.onResize=n.onResize.bind(Object(u.a)(Object(u.a)(n))),n.outerWidth=window.outerWidth,n.outerHeight=window.outerHeight;var a=n.calcGridSize(80);n.game=new p(a.width,a.height,"random",.1);var i=new v(255,0,0),o=new v(0,0,255);return n.state={contextMenu:!1,running:!0,showGrid:!0,speed:80,steps:80,randomPercent:5,testItems:10,color1raw:i.toString(),color1:i,color2raw:o.toString(),color2:o,boardSize:a.boardSize,cellSize:a.cellSize,generation:n.game.generation,width:n.game.width,height:n.game.height,grid:n.game.grid},n}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.lastFrame=Date.now(),this.interval=setInterval(this.runFrame,2),window.addEventListener("click",this.onClick),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),window.removeEventListener("click",this.onClick),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("resize",this.onResize)}},{key:"calcGridSize",value:function(e){var t=Math.floor(.75*window.innerWidth),n=Math.floor(.9*window.innerHeight),a=Math.floor(Math.min(t,n)/e)||1;return{boardSize:e,cellSize:a,width:Math.floor(t/a),height:Math.floor(n/a)}}},{key:"runFrame",value:function(){this.state.running?this.game.updateGeneration(this.state.speed)&&this.setState({generation:this.game.generation,grid:this.game.grid}):this.game.doNothing()}},{key:"handleDrawCell",value:function(e,t){this.game.drawCell(e,t,1),this.setState({grid:this.game.grid})}},{key:"handleContextMenu",value:function(e,t,n,a){e+this.context.offsetWidth>window.innerWidth&&(e-=this.context.offsetWidth),t+this.context.offsetHeight>window.innerHeight&&(t-=this.context.offsetHeight),this.setState({contextMenu:!0,contextMenuX:e,contextMenuY:t,contextMenuTargetX:n,contextMenuTargetY:a})}},{key:"onClickRunPause",value:function(e){this.state.running?this.setState({running:!1}):this.setState({running:!0})}},{key:"onClickShowHideGrid",value:function(e){this.state.showGrid?this.setState({showGrid:!1}):this.setState({showGrid:!0})}},{key:"onClickClear",value:function(e){this.state.grid&&(this.game.reset(),this.setState({running:!1,generation:this.game.generation,grid:this.game.grid}))}},{key:"onChangeSize",value:function(e){var t=Number(e.target.value);if("number"===typeof t&&t!==this.state.boardSize){this.game.reset();var n=this.calcGridSize(t);this.game.resize(n.width,n.height),this.setState({running:!1,boardSize:n.boardSize,cellSize:n.cellSize,width:this.game.width,height:this.game.height,generation:this.game.generation,grid:this.game.grid})}}},{key:"onChangeSpeed",value:function(e){var t=Number(e.target.value);"number"===typeof t&&t!==this.state.speed&&this.setState({speed:t})}},{key:"onChangeColor",value:function(e,t){if(1===t){var n=this.state.color1;n.fromString(e.target.value),this.setState({color1raw:e.target.value,color1:n})}else if(2===t){var a=this.state.color2;a.fromString(e.target.value),this.setState({color2raw:e.target.value,color2:a})}}},{key:"onChangeSteps",value:function(e){var t=Number(e.target.value);"number"===typeof t&&t!==this.state.steps&&this.setState({steps:t})}},{key:"onChangeRandomPercent",value:function(e){var t=Number(e.target.value);"number"===typeof t&&t!==this.state.randomPercent&&this.setState({randomPercent:t})}},{key:"onClickRandom",value:function(e){this.game.initialize("random",this.state.randomPercent/100),this.setState({generation:this.game.generation,grid:this.game.grid})}},{key:"onChangeTestItems",value:function(e){var t=Number(e.target.value);"number"===typeof t&&t!==this.state.testItems&&this.setState({testItems:t})}},{key:"onClickTest",value:function(e){this.game.initialize("test",this.state.testItems),this.setState({generation:this.game.generation,grid:this.game.grid})}},{key:"onContextMenuItemClick",value:function(e,t){this.game.drawItem(this.state.contextMenuTargetX,this.state.contextMenuTargetY,t),this.setState({contextMenu:!1,grid:this.game.grid})}},{key:"onClick",value:function(e){this.state.contextMenu&&this.setState({contextMenu:!1})}},{key:"onKeyDown",value:function(e){27===e.keyCode&&this.state.contextMenu&&this.setState({contextMenu:!1})}},{key:"onResize",value:function(e){if(window.outerWidth!==this.outerWidth||window.outerHeight!==this.outerHeight){this.outerWidth=window.outerWidth,this.outerHeight=window.outerHeight,this.game.reset();var t=this.calcGridSize(this.state.boardSize);this.game.resize(t.width,t.height),this.setState({running:!1,boardSize:t.boardSize,cellSize:t.cellSize,width:this.game.width,height:this.game.height,generation:this.game.generation,grid:this.game.grid})}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row justify-content-center mt-2"},i.a.createElement("div",{className:"col-2 text-center mt-2"},i.a.createElement("h1",{className:"mt-2"},i.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life",target:"_blank",rel:"noopener noreferrer"},"Game of Life")),i.a.createElement("div",{className:"input-group mt-4"},i.a.createElement("span",{className:"input-group-addon"},"Generation:"),i.a.createElement("input",{type:"text",className:"form-control text-right no-select",readOnly:!0,value:this.state.generation.toLocaleString()})),i.a.createElement("button",{className:"btn btn-block mt-4",onClick:this.onClickRunPause},this.state.running?"PAUSE":"RUN"),i.a.createElement("button",{className:"btn btn-block mt-2",onClick:this.onClickShowHideGrid},this.state.showGrid?"HIDE GRID":"SHOW GRID"),i.a.createElement("button",{className:"btn btn-block mt-2",onClick:this.onClickClear},"CLEAR"),i.a.createElement("div",{className:"input-group mt-4"},i.a.createElement("span",{className:"input-group-addon"},"Board Size:"),i.a.createElement("input",{type:"text",className:"form-control text-right no-select",readOnly:!0,value:this.state.width.toLocaleString()+" x "+this.state.height.toLocaleString()})),i.a.createElement("div",{className:"mt-2"},i.a.createElement(f,{min:"20",max:"300",onChange:this.onChangeSize,value:this.state.boardSize})),i.a.createElement("div",{className:"input-group mt-4"},i.a.createElement("span",{className:"input-group-addon"},"Sim Speed:"),i.a.createElement("input",{type:"text",className:"form-control text-right no-select",readOnly:!0,value:this.state.speed.toLocaleString()})),i.a.createElement("div",{className:"mt-2"},i.a.createElement(f,{min:"1",max:"100",onChange:this.onChangeSpeed,value:this.state.speed})),i.a.createElement("div",{className:"form-group row mt-4 align-items-center"},i.a.createElement("label",{className:"col-8 col-form-label text-right no-select label"},"Young Cell Color:"),i.a.createElement("div",{className:"col-4"},i.a.createElement(b,{value:this.state.color1raw,onChange:function(t){return e.onChangeColor(t,1)}}))),i.a.createElement("div",{className:"form-group row mt-2 align-items-center"},i.a.createElement("label",{className:"col-8 col-form-label text-right no-select label"},"Old Cell Color:"),i.a.createElement("div",{className:"col-4"},i.a.createElement(b,{value:this.state.color2raw,onChange:function(t){return e.onChangeColor(t,2)}}))),i.a.createElement("div",{className:"input-group mt-3"},i.a.createElement("span",{className:"input-group-addon"},"Young to Old Generations:"),i.a.createElement("input",{type:"text",className:"form-control text-right no-select",readOnly:!0,value:this.state.steps.toLocaleString()})),i.a.createElement("div",{className:"mt-2"},i.a.createElement(f,{min:"1",max:"100",onChange:this.onChangeSteps,value:this.state.steps})),i.a.createElement("div",{className:"input-group mt-4"},i.a.createElement("span",{className:"input-group-addon"},"Random Population Percentage:"),i.a.createElement("input",{type:"text",className:"form-control text-right no-select",readOnly:!0,value:this.state.randomPercent.toLocaleString()})),i.a.createElement("div",{className:"mt-2"},i.a.createElement(f,{min:"5",max:"70",onChange:this.onChangeRandomPercent,value:this.state.randomPercent})),i.a.createElement("button",{className:"btn btn-block mt-3",onClick:this.onClickRandom},"GENERATE RANDOM"),i.a.createElement("div",{className:"input-group mt-4"},i.a.createElement("span",{className:"input-group-addon"},"Number of Test Items:"),i.a.createElement("input",{type:"text",className:"form-control text-right no-select",readOnly:!0,value:this.state.testItems.toLocaleString()})),i.a.createElement("div",{className:"mt-2"},i.a.createElement(f,{min:"1",max:"100",onChange:this.onChangeTestItems,value:this.state.testItems})),i.a.createElement("button",{className:"btn btn-block mt-3",onClick:this.onClickTest},"GENERATE TEST")),i.a.createElement("div",{className:"col-10 text-center"},i.a.createElement(w,{width:this.state.width,height:this.state.height,cellSize:this.state.cellSize,grid:this.state.grid,showGrid:this.state.showGrid,color1:this.state.color1,color2:this.state.color2,drawCell:this.handleDrawCell,handleContextMenu:this.handleContextMenu,steps:this.state.steps}),i.a.createElement("nav",{ref:function(t){return e.context=t},className:this.state.contextMenu?"context-menu context-menu--active":"context-menu",style:{left:this.state.contextMenuX,top:this.state.contextMenuY}},i.a.createElement("ul",{className:"list-group"},this.game.names.map(function(t,n){return i.a.createElement("li",{key:n,className:"list-group-item",onClick:function(n){return e.onContextMenuItemClick(n,t)}},t)}))))))}}]),t}(i.a.Component);s.a.render(i.a.createElement(C,null),document.getElementById("root"))},84:function(e,t,n){e.exports=n(178)}},[[84,2,1]]]);
//# sourceMappingURL=main.e4ac9e39.chunk.js.map